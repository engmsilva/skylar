{"version":3,"sources":["components/form/form.js"],"names":["FormTempalte","props","id","useContext","CoreContext","stateCore","useForm","register","handleSubmit","errors","profile","index","findIndex","obj","parseInt","defaultProfile","length","name","email","phone","initialValue","title","useState","state","setState","handleChange","event","nam","target","val","value","className","onSubmit","Object","assign","push","navigate","defaultValue","type","onChange","ref","required","class","pattern","e","replace","match","formatPhone","onKeyUp","maxLength","minLength","onClick"],"mappings":"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","file":"static/js/7.6138a0c3.chunk.js","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { CoreContext } from '../core/context';\nimport { navigate  } from 'hookrouter';\n\nexport default function FormTempalte(props) {\n\tconst { id } = props;\n\tconst [ stateCore ] = useContext(CoreContext); \n\tconst { register, handleSubmit, errors } = useForm();\n\tconst { profile } = stateCore;\n\tconst index = profile.findIndex(obj => obj.id === parseInt(id));\n\tconst defaultProfile ={\n                            id: profile.length+1,\n                            name: '',\n                            email: '',\n                            phone: ''      \n\t\t\t\t\t\t}\n\tconst initialValue = id ? profile[index] : defaultProfile; \t\n\tconst title = id ? 'Editar Contato' : 'Novo Contato';\n\tconst [state, setState] = useState(initialValue);\t\n\n    // eslint-disable-next-line no-useless-escape\n    const emailPattern = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\nfunction handleFormatPhone(e) {\n\tconst value = e.target.value.replace(/\\D/g, '').match(/(\\d{3})(\\d{1})(\\d{4})(\\d{4})/);\n\tif(value){\t\n\t\te.target.value = '(' + value[1] + ') ' + value[2] + ' ' + value[3] + '-' + value[4];\t\n\t }\n}\n\nfunction formatPhone(e) {\n    const value = e.replace(/\\D/g, '').match(/(\\d{3})(\\d{1})(\\d{4})(\\d{4})/); \n    return value && '(' + value[1] + ') ' + value[2] + ' ' + value[3] + '-' + value[4];\t   \n  }\n\n function handleChange(event){\t\n\tlet nam = event.target.name;\n\tlet val = event.target.value;\t\n\tsetState({...state, [nam]: val})\n }\n\nfunction onSubmit() {\n\t\tif(id){\n\t\t\tObject.assign(profile[index], state);\n\t\t} else {\n\t\t\tprofile.push(state);\n\t\t}\t\t\t\n\t\tnavigate('/list')\n}\t\n\t\n  return (\n    <>\n<section className=\"is-fullheight\">\n\t\t<div className=\"hero-body\">\n\t\t\t<div className=\"container\">\t\t\t\t\t\n\t\t\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\n\t\t\t\t\t<div className=\"columns\">\n\t\t\t\t\t<div className=\"column is-6\">\t\t\t\t\t\n\t\t\t\t\t\t<h1 className=\"title is-1\">{title}</h1>\n\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t<label className=\"label\">Nome</label>\n\t\t\t\t\t\t\t<div className=\"control has-icons-left\">\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\tclassName={`input is-medium ${errors.name && 'is-danger'}`}\n\t\t\t\t\t\t\t\t\tdefaultValue={state.name}\n\t\t\t\t\t\t\t\t\tname=\"name\" \n\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\tonChange={handleChange} \n\t\t\t\t\t\t\t\t\tref={register({ required: true })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"icon is-small is-left\">\n\t\t\t\t\t\t\t\t<i className=\"fa fa-user\"></i>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t  { errors.name &&\n\t\t\t\t\t\t\t   <p class=\"help is-danger\">Este campo é obrigatório</p> \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t<label className=\"label\">Email</label>\n\t\t\t\t\t\t\t<div className=\"control has-icons-left\">\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\tclassName={`input is-medium ${errors.email && 'is-danger'}`} \n\t\t\t\t\t\t\t\t\tdefaultValue={state.email}\n\t\t\t\t\t\t\t\t\tname=\"email\" \n\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tref={register({ \n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tpattern: emailPattern\n\t\t\t\t\t\t\t\t\t })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"icon is-small is-left\">\n\t\t\t\t\t\t\t\t<i className=\"fa fa-envelope\"></i>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{ errors.email &&\n\t\t\t\t\t\t\t   <p class=\"help is-danger\">É necessário entrar com um endereço de e-mail válido.</p> \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t<label className=\"label\">Telefone</label>\n\t\t\t\t\t\t\t<div className=\"control has-icons-left\">\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\tclassName={`input is-medium ${errors.phone && 'is-danger'}`} \n\t\t\t\t\t\t\t\t\tdefaultValue={formatPhone(state.phone)}\n\t\t\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\t\t\ttype=\"tel\" \n\t\t\t\t\t\t\t\t\tonKeyUp={handleFormatPhone} \n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tref={register({ \n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmaxLength: 17, \n\t\t\t\t\t\t\t\t\t\tminLength: 8\n\t\t\t\t\t\t\t\t\t })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"icon is-small is-left\">\n\t\t\t\t\t\t\t\t<i className=\"fa fa-phone\"></i>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{ errors.phone &&\n\t\t\t\t\t\t\t   <p class=\"help is-danger\">Este campo é obrigatório</p> \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t\t<div className=\"field is-grouped is-grouped-right\">\n\t\t\t\t\t\t<p className=\"control\">\n\t\t\t\t\t\t\t<button className=\"button is-ligth is-medium is-fullwidth\" onClick={() => navigate('/list')}>\n\t\t\t\t\t\t\t<span className=\"icon\">\n\t\t\t\t\t\t\t\t<i className=\"fa fa-ban\"></i>\n\t\t\t\t\t\t\t</span>         \n\t\t\t\t\t\t\t<span>Cancelar</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p className=\"control\">\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"button is-primary is-medium is-fullwidth\">\n\t\t\t\t\t\t\t<span className=\"icon\">\n\t\t\t\t\t\t\t\t<i className=\"fa fa-cloud\"></i>\n\t\t\t\t\t\t\t</span>         \n\t\t\t\t\t\t\t<span>Salvar</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\t\t\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\n\t</section>\n    </>\n  );\n}\n\n"],"sourceRoot":""}